(this["webpackJsonpsnake-game"]=this["webpackJsonpsnake-game"]||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(9),l=n.n(r),i=(n(16),n(5)),o=n(2),u=n(3);n(17);var s=n(11),d=n(10),f=function e(t){Object(u.a)(this,e),this.value=t,this.next=null},j=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).getHead=function(){return e.tail},e.getTail=function(){return e.head},e.addHead=function(t){return e.addLast(t)},e.removeTail=function(){return e.removeFirst()},e}return n}((function e(t){var n=this;Object(u.a)(this,e),this.addFirst=function(e){var t=new f(e),c=n.head;n.head=t,t.next=c,null===n.tail&&(n.tail=t)},this.addLast=function(e){if(null===n.head)n.addFirst(e);else{var t=new f(e),c=n.tail;n.tail=t,c.next=t}},this.removeFirst=function(){null!==n.head&&(n.head=n.head.next,null===n.head&&(n.tail=null))},this.removeLast=function(){if(null!==n.head){var e=n.head;if(null==e.next)n.head=null,n.tail=null;else{for(;null!==e.next&&null!==e.next.next;)e=e.next;e.next=null,n.tail=e}}};var c=new f(t);this.head=c,this.tail=c})),v=n(1),b="UP",O="RIGHT",h="DOWN",w="LEFT",x=function(e){var t=e.length,n=e[0].length,c=Math.round(t/3),a=Math.round(n/3);return{row:c,col:a,cell:e[c][a]}},S=function(e){for(var t=1,n=[],c=0;c<e;c++){for(var a=[],r=0;r<e;r++)a.push(t++);n.push(a)}return n},m=function(e){return"ArrowUp"===e?b:"ArrowRight"===e?O:"ArrowDown"===e?h:"ArrowLeft"===e?w:null},p=function(e){return e===b?h:e===O?w:e===h?b:e===w?O:null},g=function(e,t,n,c){var a=t===b?{row:e.row-1,col:e.col}:t===O?{row:e.row,col:e.col+1}:t===h?{row:e.row+1,col:e.col}:t===w?{row:e.row,col:e.col-1}:{row:e.row,col:e.col};return c?a:{row:a.row<0?n.length-1:a.row>=n.length?0:a.row,col:a.col<0?n[0].length-1:a.col>=n[0].length?0:a.col}},E=function(e,t){var n=e.row,c=e.col;return n<0||c<0||n>=t.length||c>=t[0].length},y=function(e,t,n){return n.has(e)?"cell snake-cell":e===t?"cell food-cell":"cell"},k=function(e){var t=S(e.boardSize),n=Object(c.useState)(new j(x(t))),a=Object(o.a)(n,2),r=a[0],l=a[1],i=Object(c.useState)(new Set([r.getHead().value.cell])),u=Object(o.a)(i,2),s=u[0],d=u[1],f=Object(c.useState)(O),b=Object(o.a)(f,2),h=b[0],w=b[1],k=Object(c.useState)(r.getHead().value.cell+5),N=Object(o.a)(k,2),A=N[0],H=N[1],L=Object(c.useState)(0),I=Object(o.a)(L,2),M=I[0],T=I[1],z=Object(c.useState)(!1),D=Object(o.a)(z,2),R=D[0],F=D[1],W=Object(c.useState)(Math.max(1e3-50*(e.speed-1),10)),P=Object(o.a)(W,2),U=P[0],B=(P[1],Object(c.useState)(e.hasWall)),G=Object(o.a)(B,2),J=G[0];G[1];Object(c.useEffect)((function(){var t=function(t){if("Enter"===t.key)F(!R);else if("Escape"===t.key)e.viewHandler();else if(!R){var n=m(t.key);if(null===n||p(n)===h&&s.size>1)return;w(n)}};return window.addEventListener("keydown",t),function(){return window.removeEventListener("keydown",t)}}),[R,h,s.size,e]),Object(c.useEffect)((function(){M>e.topScore&&e.topScoreHandler(M)}),[M,e]),function(e,t){var n=Object(c.useRef)();Object(c.useEffect)((function(){n.current=e}),[e]),Object(c.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){C()}),R?null:U);var C=function(){var e={row:r.getHead().value.row,col:r.getHead().value.col},n=g(e,h,t,J);if(J&&E(n,t)||s.has(t[n.row][n.col]))q();else{var c=t[n.row][n.col];r.addHead({row:n.row,col:n.col,cell:c});var a=new Set(s);a.add(c),c!==A?(a.delete(r.getTail().value.cell),r.removeTail()):K(a),l(r),d(a)}},K=function(t){for(var n=Math.pow(e.boardSize,2),c=null;null===c||t.has(c);)c=Math.floor(Math.random()*n+1);H(c),T((function(e){return e+1}))},q=function(){var e=x(t);l(new j(e)),d(new Set([e.cell])),w(O),H(e.cell+5),T(0)};return Object(v.jsxs)("div",{className:"board",children:[t.map((function(e,t){return Object(v.jsx)("div",{className:"row",children:e.map((function(e,t){return Object(v.jsx)("div",{className:y(e,A,s)},t)}))},t)})),Object(v.jsxs)("div",{className:"score-row",children:[Object(v.jsx)("div",{className:"score-cell",children:Object(v.jsxs)("span",{children:["Score: ",M]})}),Object(v.jsx)("div",{className:"score-cell",children:Object(v.jsxs)("span",{children:["Top Score: ",e.topScore]})})]})]})},N=(n(8),function(e){var t,n=Object(c.useState)(null!==(t=e.current)&&void 0!==t?t:0),a=Object(o.a)(n,2),r=a[0];a[1];return Object(c.useEffect)((function(){var t=function(t){if(e.isSelected&&e.values)if("ArrowLeft"===t.key){if(0===r)return;e.action(r-1)}else if("ArrowRight"===t.key){if(r===e.values.length-1)return;e.action(r+1)}};return window.addEventListener("keydown",t),function(){return window.removeEventListener("keydown",t)}}),[r,e]),void 0===e.values?Object(v.jsx)("div",{className:"item ".concat(e.isSelected?"selected-item":""),children:Object(v.jsx)("span",{children:e.text})}):Object(v.jsxs)("div",{className:"item value-item ".concat(e.isSelected?"selected-item":""),children:[Object(v.jsx)("div",{className:"value-item-cell",children:Object(v.jsx)("span",{children:e.text})}),Object(v.jsxs)("div",{className:"value-item-cell",children:[Object(v.jsx)("div",{className:e.isSelected&&r>0?"arrow-left":""}),Object(v.jsx)("span",{className:"value-item-value",children:e.values[r].text}),Object(v.jsx)("div",{className:e.isSelected&&r<e.values.length-1?"arrow-right":""})]})]})}),A=function(e){var t=[{text:"Start",action:e.viewHandler},{text:"Settings",action:function(){j(n),u(0)}},{text:"Help",action:function(){alert("1. Use Arrow Keys to move. \n2. Press ENTER to Pause. \n3. Press ESC to End. ")}}],n=[].concat(Object(i.a)(e.settingItems),[{text:"Done",action:function(){j(t),u(1)}}]),a=Object(c.useState)(0),r=Object(o.a)(a,2),l=r[0],u=r[1],s=Object(c.useState)(t),d=Object(o.a)(s,2),f=d[0],j=d[1];return Object(c.useEffect)((function(){var e=function(e){if("Enter"===e.key)f[l].action();else if("ArrowUp"===e.key){if(0===l)return;u((function(e){return e-1}))}else if("ArrowDown"===e.key){if(l===f.length-1)return;u(l+1)}};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[f,l]),Object(v.jsx)("div",{className:"menu",children:f.map((function(t,n){return Object(v.jsx)(N,{text:t.text,values:t.values,current:e.currentSettingIdxs[n],action:t.action,isSelected:n===l},"".concat(n," ").concat(e.currentSettingIdxs[n]))}))})},H=(n(19),"INGAME"),L="HOME",I="STANDARD",M="NOWALL",T=function e(t,n,c){Object(u.a)(this,e),this.text=t,this.values=n,this.action=c},z=function(){var e=Object(c.useState)(L),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(0),l=Object(o.a)(r,2),u=l[0],s=l[1],d=Object(c.useState)(9),f=Object(o.a)(d,2),j=f[0],b=f[1],O=Object(c.useState)(1),h=Object(o.a)(O,2),w=h[0],x=h[1],S=Object(c.useState)([u,j,w]),m=Object(o.a)(S,2),p=m[0],g=m[1],E=Object(c.useState)(0),y=Object(o.a)(E,2),N=y[0],z=y[1],D=Object(c.useState)(new T("Map",[{text:"Standard",value:I},{text:"No Wall",value:M}],(function(e){return s(e)}))),R=Object(o.a)(D,2),F=R[0],W=(R[1],Object(c.useState)(new T("Speed",Object(i.a)(Array(20).keys()).map((function(e){return{text:e+1,value:e+1}})),(function(e){return b(e)})))),P=Object(o.a)(W,2),U=P[0],B=(P[1],Object(c.useState)(new T("Board Size",Object(i.a)(Array(4).keys()).map((function(e){return{text:"".concat(5*(e+2)," x ").concat(5*(e+2)),value:5*(e+2)}})),(function(e){return x(e)})))),G=Object(o.a)(B,2),J=G[0];G[1];Object(c.useEffect)((function(){g([u,j,w])}),[u,j,w]);var C=function(){a(n===H?L:H)};return Object(v.jsx)("div",{className:"App",children:n===L?Object(v.jsx)(A,{viewHandler:C,settingItems:[F,U,J],currentSettingIdxs:p}):Object(v.jsx)(k,{hasWall:F.values[u].value===I,speed:U.values[j].value,boardSize:J.values[w].value,topScore:N,topScoreHandler:function(e){z(e)},viewHandler:C})})};l.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(z,{})}),document.getElementById("root"))},8:function(e,t,n){}},[[20,1,2]]]);
//# sourceMappingURL=main.580afd6d.chunk.js.map